{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Login into Library</title>
    <!-- Tailwind CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body>
    <!-- Nav bar -->
    <nav
      class="flex w-full bg-transparent h-16 items-center justify-evenly px-4 z-10 fixed border border-[#2cafdf]"
    >
      <!-- Nav Logo -->
      <div class="logo">
        <a href="/books/home/" class="font-sans text-base font-bold text-white"
          >e.library</a
        >
      </div>

      <!-- Nav Links -->
      <div class="gap-8 flex md:hidden bg-[#caeef9] rounded-md">
        <!-- Hamburger menu button -->
        <button id="toggleMenu" class="focus:outline-none">
          <svg
            class="w-6 h-6 text-gray-800"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M4 6h16M4 12h16m-7 6h7"
            ></path>
          </svg>
        </button>
      </div>
      <div class="nav_links hidden md:flex gap-8 flex">
        <!-- Nav Links -->
        <a href="/books/login/" class="text-white">Get Started</a>
      </div>
    </nav>

    <div
      class="relative bg-[#79d6f8] h-screen flex items-center justify-center"
    >
      <!-- Background Image -->
      <div
        class="absolute inset-0 bg-cover bg-center"
        style="background-image: url('/asset/login.jpg')"
      ></div>
      <!-- Glassmorphism Effect Overlay -->
      <div
        class="absolute inset-0 bg-[#2cafdf] bg-opacity-10 backdrop-blur-lg"
      ></div>
      <!-- Login Form -->
      <div
        class="z-10 bg-[#caeef9] bg-opacity-35 backdrop-filter backdrop-blur-lg p-8 rounded-lg shadow-lg"
      >
        <!-- Buttons for Login Options -->
        <div class="flex justify-center mb-6 space-x-4">
          <button id="loginBtn" class="text-white font-bold text-sm">
            Login
          </button>
          <button id="signupBtn" class="text-white font-bold text-sm">
            Sign Up
          </button>
          <button id="forgotBtn" class="text-white font-bold text-sm">
            Forgot Password
          </button>
        </div>
        <!-- Login Form -->
        <div id="loginForm" class="option">
          <h2 class="text-2xl font-bold mb-4">Login</h2>
          <form id="loginForm" method="post" action="{% url 'verif-login' %}">
            {% csrf_token %}
            <div class="mb-4">
              <label for="username" class="block mb-2">Username</label>
              <input
                type="text"
                id="username_for_login"
                name="username"
                class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:border-blue-500"
                required
              />
            </div>
            <div class="mb-4">
              <label for="password" class="block mb-2">Password</label>
              <input
                type="password"
                id="password_for_login"
                name="password"
                class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:border-blue-500"
                required
              />
            </div>
            <!-- Loading elements for login -->
            <div class="mb-4 flex items-center justify-center">
              <img
                src="/asset/loading.svg"
                alt="Loading Icon"
                class="w-6 h-6 mr-2"
                id="loginLoadingIcon"
                style="display: none"
              />
              <span id="loginLoadingText" style="display: none"
                >Submitting...</span
              >
            </div>
            <button
              type="submit"
              class="w-full bg-blue-500 text-white font-bold py-2 px-4 rounded-md hover:bg-blue-600 transition-colors duration-300"
              id="loginSubmitBtn"
            >
              Login
            </button>
          </form>
        </div>
        <!-- Sign Up Form -->
        <div id="signupForm" class="option hidden">
          <h2 class="text-2xl font-bold mb-4">Sign Up</h2>
          <form method="post" action="{% url 'sign-up' %}">
            <div class="mb-4">
              <label for="username" class="block mb-2">Username</label>
              <input
                type="text"
                id="username"
                name="username"
                class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:border-blue-500"
                required
              />
            </div>
            <div class="mb-4">
              <label for="password" class="block mb-2">Password</label>
              <input
                type="password"
                id="password_for_sign_up"
                name="password"
                class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:border-blue-500"
                required
              />
            </div>
            <!-- Loading elements for sign up -->
            <div class="mb-4 flex items-center justify-center">
              <img
                src="/asset/loading.svg"
                alt="Loading Icon"
                class="w-6 h-6 mr-2"
                id="signupLoadingIcon"
                style="display: none"
              />
              <span id="signupLoadingText" style="display: none"
                >Submitting...</span
              >
            </div>
            <button
              type="submit"
              class="w-full bg-blue-500 text-white font-bold py-2 px-4 rounded-md hover:bg-blue-600 transition-colors duration-300"
              id="signupSubmitBtn"
            >
              Sign Up
            </button>
          </form>
          <!-- Add your sign up form here -->
        </div>
        <!-- Forgot Password Form -->
        <div id="forgotForm" class="option hidden">
          <h2 class="text-2xl font-bold mb-4">Forgot Password</h2>
          <!-- Add your forgot password form here -->
          <form method="post" action="{% url 'forgot-password' %}">
            <div class="mb-4">
              <label for="username" class="block mb-2">Username</label>
              <input
                type="text"
                id="username_for_forget_password"
                name="username"
                class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:border-blue-500"
                required
              />
            </div>
            <div class="mb-4">
              <label for="password" class="block mb-2"> New password</label>
              <input
                type="password"
                id="password_for_forget_password"
                name="new_password"
                class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:border-blue-500"
                required
              />
            </div>
            <!-- Loading elements for forgot password -->
            <div class="mb-4 flex items-center justify-center">
              <img
                src="/asset/loading.svg"
                alt="Loading Icon"
                class="w-6 h-6 mr-2"
                id="forgotLoadingIcon"
                style="display: none"
              />
              <span id="forgotLoadingText" style="display: none"
                >Submitting...</span
              >
            </div>
            <button
              type="submit"
              class="w-full bg-blue-500 text-white font-bold py-2 px-4 rounded-md hover:bg-blue-600 transition-colors duration-300"
              id="forgotSubmitBtn"
            >
              Submit
            </button>
          </form>
        </div>
      </div>
    </div>
    {% comment %} Javascript {% endcomment %}
    <script>
      const toggleMenu = document.getElementById("toggleMenu");
      const navLinks = document.querySelector(".nav_links");
      const loginBtn = document.getElementById("loginBtn");
      const signupBtn = document.getElementById("signupBtn");
      const forgotBtn = document.getElementById("forgotBtn");
      const loginForm = document.getElementById("loginForm");
      const signupForm = document.getElementById("signupForm");
      const forgotForm = document.getElementById("forgotForm");
      const loginSubmitBtn = document.getElementById("loginSubmitBtn");
      const signupSubmitBtn = document.getElementById("signupSubmitBtn");
      const forgotSubmitBtn = document.getElementById("forgotSubmitBtn");
      const loginLoadingIcon = document.getElementById("loginLoadingIcon");
      const loginLoadingText = document.getElementById("loginLoadingText");
      const signupLoadingIcon = document.getElementById("signupLoadingIcon");
      const signupLoadingText = document.getElementById("signupLoadingText");
      const forgotLoadingIcon = document.getElementById("forgotLoadingIcon");
      const forgotLoadingText = document.getElementById("forgotLoadingText");

      toggleMenu.addEventListener("click", () => {
        navLinks.classList.toggle("hidden");
      });

      // Toggle visibility of login options
      loginBtn.addEventListener("click", () => {
        loginForm.classList.remove("hidden");
        signupForm.classList.add("hidden");
        forgotForm.classList.add("hidden");
      });

      signupBtn.addEventListener("click", () => {
        loginForm.classList.add("hidden");
        signupForm.classList.remove("hidden");
        forgotForm.classList.add("hidden");
      });

      forgotBtn.addEventListener("click", () => {
        loginForm.classList.add("hidden");
        signupForm.classList.add("hidden");
        forgotForm.classList.remove("hidden");
      });
    </script>
  </body>
</html>
